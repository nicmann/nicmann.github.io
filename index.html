<html>
<header>
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
	
	<link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/fullcalendar.min.css" rel="stylesheet" /> 
	<script src="https://code.jquery.com/jquery-2.1.0.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/moment.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/fullcalendar.min.js"></script>
	<script>
		$(function() {		
			var myEvents = [];
			
			//.fullCalendar( ‘destroy’ ) - Removes elements, events handlers, and internal data
			 
  			// page is now ready, initialize the calendar...
			var url_string = window.location.href;
			var url = new URL(url_string);
			var myTitle = "";
			var myStart = "";
			var myEnd = "";
			var i = 1;
			
			myTitle = url.searchParams.get("title" + i);
			while (myTitle.length != 0) {
  				myEvents[i-1] = {
					title: myTitle,
					start: url.searchParams.get("start" + i),
					end: url.searchParams.get("end" + i)
				}
  				i++;
				myTitle = url.searchParams.get("title" + i);
			}												

  			$('#calendar').fullCalendar({
    				// put your options and callbacks here
				events: myEvents
  			})

		});
	</script>
</header>
<body>
	<div id='calendar'></div>
</body>
</html>
